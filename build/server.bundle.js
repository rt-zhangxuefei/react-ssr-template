!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("redux-saga/effects")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("react-router-config")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("axios")},function(e,t,n){var r=n(22),o=n(9);"string"==typeof r&&(r=[[e.i,r,""]]),e.exports=r.locals||{},e.exports._getContent=function(){return r},e.exports._getCss=function(){return r.toString()},e.exports._insertCss=function(e){return o(r,e)}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var c=e[o];"number"==typeof c[0]&&r[c[0]]||(n&&!c[2]?c[2]=n:n&&(c[2]="("+c[2]+") and ("+n+")"),t.push(c))}},t}},function(e,t,n){"use strict";var r=i(n(20)),o=i(n(21));function i(e){return e&&e.__esModule?e:{default:e}}var c="s",u={};function a(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}e.exports=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.replace,i=void 0!==n&&n,s=t.prepend,f=void 0!==s&&s,p=[],l=0;l<e.length;l++){var y=(0,o.default)(e[l],4),b=y[0],m=y[1],d=y[2],h=y[3],g=b+"-"+l;if(p.push(g),!u[g]||i){u[g]=1;var v=document.getElementById(c+g),O=!1;v||(O=!0,(v=document.createElement("style")).setAttribute("type","text/css"),v.id=c+g,d&&v.setAttribute("media",d));var x=m;h&&"function"==typeof btoa&&(x+="\n/*# sourceMappingURL=data:application/json;base64,"+a((0,r.default)(h))+"*/",x+="\n/*# sourceURL="+h.file+"?"+g+"*/"),"textContent"in v?v.textContent=x:v.styleSheet.cssText=x,O&&(f?document.head.insertBefore(v,document.head.childNodes[0]):document.head.appendChild(v))}else u[g]++}return function(e){e.forEach(function(e){if(--u[e]<=0){var t=document.getElementById(c+e);t&&t.parentNode.removeChild(t)}})}.bind(null,p)}},function(e,t){e.exports=require("express")},function(e,t,n){var r=n(19),o=n(9);"string"==typeof r&&(r=[[e.i,r,""]]),e.exports=r.locals||{},e.exports._getContent=function(){return r},e.exports._getCss=function(){return r.toString()},e.exports._insertCss=function(e){return o(r,e)}},function(e,t,n){var r=n(23),o=n(9);"string"==typeof r&&(r=[[e.i,r,""]]),e.exports=r.locals||{},e.exports._getContent=function(){return r},e.exports._getCss=function(){return r.toString()},e.exports._insertCss=function(e){return o(r,e)}},function(e,t){e.exports=require("http-proxy-middleware")},function(e,t){e.exports=require("cookie-parser")},function(e,t){e.exports=require("redux-saga")},function(e,t){e.exports=require("react-dom/server")},function(e,t,n){n(18),e.exports=n(24)},function(e,t){e.exports=require("@babel/polyfill")},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,".style_header_ESwb0{display:flex;height:36px;align-items:center;padding:10px;background-color:#24292e}.style_header_ESwb0 a{font-size:20px;color:#fff;text-decoration:none;margin-right:10px}",""]),t.locals={header:"style_header_ESwb0"}},function(e,t){e.exports=require("babel-runtime/core-js/json/stringify")},function(e,t){e.exports=require("babel-runtime/helpers/slicedToArray")},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,".style_home_1LNek p{font-size:14px;line-height:20px;padding:0 10px}.style_title_1SGRp{color:#25a7df;font-size:16px;padding:10px 10px 0}",""]),t.locals={home:"style_home_1LNek",title:"style_title_1SGRp"}},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,".style_content_2yUk4{padding:10px}.style_content_2yUk4 p{font-size:14px}",""]),t.locals={content:"style_content_2yUk4"}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"fetchPosts",function(){return P}),n.d(r,"watchFetchPosts",function(){return R}),n.d(r,"default",function(){return L});var o={};n.r(o),n.d(o,"getLogin",function(){return V}),n.d(o,"getLogout",function(){return X}),n.d(o,"checkLogin",function(){return Z}),n.d(o,"watchGetLogin",function(){return $}),n.d(o,"watchGetLogout",function(){return ee}),n.d(o,"watchCheckLogin",function(){return te}),n.d(o,"default",function(){return ne});var i={};n.r(i),n.d(i,"getLogin",function(){return re}),n.d(i,"checkLogin",function(){return oe}),n.d(i,"logout",function(){return ie});var c={};n.r(c),n.d(c,"fetchComments",function(){return pe}),n.d(c,"watchFetchComments",function(){return le}),n.d(c,"default",function(){return ye});var u={};n.r(u),n.d(u,"getComments",function(){return be});var a=n(10),s=n.n(a),f=n(1),p=n(4),l=n(13),y=n.n(l),b=n(14),m=n.n(b),d=n(5),h=n(15),g=n.n(h),v="REQUEST_POSTS",O="REQUEST_POSTS_SUCCESS",x="REQUEST_POSTS_FAILURE";function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={posts:[]},_=n(6),S=n.n(_),E=function(){return S.a.create({baseURL:"/"})},k=regeneratorRuntime.mark(P),C=regeneratorRuntime.mark(R);function P(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(f.call)(e.get,"/api/posts");case 3:return t=n.sent,n.next=6,Object(f.put)({type:O,payload:t.data});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(f.put)({type:x,payload:n.t0.message});case 12:case"end":return n.stop()}},k,this,[[0,8]])}function R(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)(v,P,E());case 2:case"end":return e.stop()}},C,this)}var L=[R()],T="LOGIN",U="LOGIN_FAILURE",z="LOGIN_SUCCESS",N="LOGOUT",D="LOGOUT_SUCCESS",M="LOGOUT_FAILURE",G="CHECK_LOGIN",I="CHECK_LOGIN_SUCCESS",q="CHECK_LOGIN_FAILURE";function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){A(e,t,n[t])})}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B={login:!1},H=regeneratorRuntime.mark(V),K=regeneratorRuntime.mark(X),Q=regeneratorRuntime.mark(Z),J=regeneratorRuntime.mark($),W=regeneratorRuntime.mark(ee),Y=regeneratorRuntime.mark(te);function V(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(f.call)(e.get,"/api/login");case 3:return t=n.sent,n.next=6,Object(f.put)({type:z,payload:t.data});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(f.put)({type:U,payload:n.t0.message});case 12:case"end":return n.stop()}},H,this,[[0,8]])}function X(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(f.call)(e.get,"/api/logout");case 3:return t=n.sent,n.next=6,Object(f.put)({type:D,payload:t.data});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(f.put)({type:M,payload:n.t0.message});case 12:case"end":return n.stop()}},K,this,[[0,8]])}function Z(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(f.call)(e.get,"/api/islogin");case 3:return t=n.sent,n.next=6,Object(f.put)({type:I,payload:t.data});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(f.put)({type:q,payload:n.t0.message});case 12:case"end":return n.stop()}},Q,this,[[0,8]])}function $(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)(T,V,E());case 2:case"end":return e.stop()}},J,this)}function ee(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)(N,X,E());case 2:case"end":return e.stop()}},W,this)}function te(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)(G,Z,E());case 2:case"end":return e.stop()}},Y,this)}var ne=[$(),ee(),te()],re=function(){return{type:T}},oe=function(){return{type:G}},ie=function(){return{type:N}},ce="GET_COMMENTS",ue="GET_COMMENTS_SUCCESS",ae="GET_COMMENTS_FAILURE",se=regeneratorRuntime.mark(pe),fe=regeneratorRuntime.mark(le);function pe(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(f.call)(e.get,"/api/comments");case 3:return t=n.sent,n.next=6,Object(f.put)({type:ue,payload:t.data});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(f.put)({type:ae,payload:n.t0.message});case 12:case"end":return n.stop()}},se,this,[[0,8]])}function le(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)(ce,pe,E());case 2:case"end":return e.stop()}},fe,this)}var ye=[le()],be=function(){return{type:ce}};function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){de(e,t,n[t])})}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he={comments:[]};function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ve(e,t,n[t])})}return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe=g()(),xe=Object(d.combineReducers)({home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return e;case O:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){w(e,t,n[t])})}return e}({},e,{posts:t.payload});case x:return{posts:[],error:t.payload};default:return e}},header:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return F({},e,t.payload);case U:return{login:!1,error:t.payload};case D:return F({},e,t.payload);case M:return{login:!1,error:t.payload};case I:return F({},e,t.payload);case q:return{login:!1,error:t.payload};default:return e}},comment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return e;case ue:return me({},e,{comments:t.payload});case ae:return me({},e,{error:t.payload});default:return e}}}),we=n(0),je=n.n(we),_e=n(3),Se=n(2),Ee=n(11),ke=n.n(Ee);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ue=function(e,t){var n=function(n){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Re(this,Le(r).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(r,we["Component"]),function(e,t,n){t&&Pe(e.prototype,t),n&&Pe(e,n)}(r,[{key:"componentWillMount",value:function(){var e=this.props.staticContext;e&&e.css.push(t._getCss())}},{key:"render",value:function(){return je.a.createElement(e,this.props)}}]),r}();return Object.keys(e).forEach(function(t){return n[t]=e[t]}),n};function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ie=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),De(this,Me(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(t,we["Component"]),function(e,t,n){t&&Ne(e.prototype,t),n&&Ne(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.login,n=e.handleLogin,r=e.handleLogout;return je.a.createElement("div",{className:ke.a.header},je.a.createElement(_e.Link,{to:"/"},"首页"),t?je.a.createElement(we.Fragment,null," ",je.a.createElement(_e.Link,{to:"/comments"},"热门评论"),je.a.createElement("a",{href:"javascript:;",onClick:r},"退出")):je.a.createElement("a",{href:"javascript:;",onClick:n},"登录"))}}]),t}(),qe=Object(Se.connect)(function(e){return{login:e.header.login}},{handleLogin:i.getLogin,handleLogout:i.logout})(Ue(Ie,ke.a));function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Be(this,He(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,we["Component"]),function(e,t,n){t&&Ae(e.prototype,t),n&&Ae(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.route,n=e.staticContext;return je.a.createElement("div",null,je.a.createElement(qe,{staticContext:n}),Object(p.renderRoutes)(t.routes))}}]),t}();Qe.loadData=o.checkLogin;var Je=Qe;function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ve(this,Xe(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(t,we["Component"]),function(e,t,n){t&&Ye(e.prototype,t),n&&Ye(e,n)}(t,[{key:"componentWillMount",value:function(){var e=this.props.staticContext;e&&(e.NOT_FOUND=!0)}},{key:"render",value:function(){return je.a.createElement("div",null,"404,sorry, page not found")}}]),t}(),et=n(7),tt=n.n(et);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t){return!t||"object"!==nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ut=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ot(this,it(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(t,we["Component"]),function(e,t,n){t&&rt(e.prototype,t),n&&rt(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.posts.length||this.props.getPosts()}},{key:"render",value:function(){var e=this.props.posts;return je.a.createElement("div",{className:tt.a.home},je.a.createElement("div",{className:tt.a.title},"10大热门文章"),e.map(function(e){return je.a.createElement("p",{key:e.id},e.id+" "+e.title)}))}}]),t}();ut.loadData=r.fetchPosts;var at=Object(Se.connect)(function(e){return{posts:e.home.posts}},{getPosts:function(){return{type:v}}})(Ue(ut,tt.a)),st=n(12),ft=n.n(st);function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t){return!t||"object"!==pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yt(this,bt(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(t,we["Component"]),function(e,t,n){t&&lt(e.prototype,t),n&&lt(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.comments.length||this.props.getComments()}},{key:"render",value:function(){var e=this.props,t=e.comments;return e.login?je.a.createElement("div",{className:ft.a.content},t.map(function(e){return je.a.createElement("p",{key:e.id},"#"+e.id+" "+e.body)})):je.a.createElement(_e.Redirect,{to:"/"})}}]),t}();dt.loadData=c.fetchComments;var ht=Object(Se.connect)(function(e){return{comments:e.comment.comments,login:e.header.login}},{getComments:u.getComments})(Ue(dt,ft.a)),gt=[{key:"App",path:"/",component:Je,loadData:Je.loadData,routes:[{path:"/",component:at,exact:!0,loadData:at.loadData,key:"home"},{path:"/comments",component:ht,loadData:ht.loadData,exact:!0,key:"comments"},{component:$e}]}],vt=n(16),Ot="http://localhost:3001",xt=function(e){return S.a.create({baseURL:Ot,headers:{cookie:"sid=".concat(e.cookies.sid)}})},wt=s()();wt.use(m()()),wt.use(s.a.static("public"));var jt={target:Ot,changeOrigin:!0},_t=y()(jt);wt.use("/api",_t),wt.get("*",function(e,t){var n=ge({},Object(d.createStore)(xe,Object(d.applyMiddleware)(Oe)),{runSaga:Oe.run}),r=[];Object(p.matchRoutes)(gt,e.path).forEach(function(t){t.route.loadData&&r.push(t.route.loadData(xt(e)))}),n.runSaga(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.all)(r);case 2:case"end":return e.stop()}},e,this)})).done.then(function(){var r={css:[]},o=function(e,t,n,r){var o=Object(vt.renderToString)(je.a.createElement(Se.Provider,{store:e},je.a.createElement(_e.StaticRouter,{location:n.path,context:r},je.a.createElement(we.Fragment,null,Object(p.renderRoutes)(t))))),i=r.css?r.css.join("\n"):"";return'<!DOCTYPE html>\n  <html>\n    <head>\n      <title>Hello SSR</title>\n      <link rel="shortcut icon" href="http://cdn.zhangxuefei.site/wp-content/uploads/2016/01/favicon.ico" type="image/x-icon"/>\n      <meta name="viewport" content="width=device-width" />\n      <style type="text/css">\n      /*! normalize.css v8.0.0 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:.67em 0}hr{box-sizing:initial;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:initial}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:initial}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}\n      </style>\n      <style type="text/css">'.concat(i,'</style>\n    </head>\n    <body>\n      <div id="root">').concat(o,"</div>\n      <script>\n        window.context={\n          state:").concat(JSON.stringify(e.getState()),'\n        }\n      <\/script>\n      <script src="/client.bundle.js"><\/script>\n    </body>\n  </html>')}(n,gt,e,r);"REPLACE"===r.action?t.redirect(301,r.url):r.NOT_FOUND?(t.status(404),t.send(o)):t.send(o)})}),wt.use(function(e,t,n,r){n.status(500).send("Sorry,Something goes wrong!")});wt.listen(3e3)}]);